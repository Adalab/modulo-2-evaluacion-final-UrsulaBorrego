"use strict";const inputSearch=document.querySelector(".js-input-search"),btnSearch=document.querySelector(".js-button-search");let characterList=document.querySelector(".js-characters-list"),favouritesList=document.querySelector(".js-favourites-list"),allCharacters=[],favouriteCharacters=[],characterCard="",textInput="";const renderAllCharacters=()=>{let a="";characterCard="",characterList.innerHTML="";for(const r of allCharacters)a=`<li>\n        <article class="js-character character" id="${r.char_id}">\n        <img src='${r.img}' alt="Foto de personaje" class="photo">\n        <h3 class="name">${r.name}</h3>\n        <p class="status">${r.status}</p>\n        </article>\n        </li>`,characterCard+=a,characterList.innerHTML=characterCard;addCharactersListeners()};function renderFavouritesCharacters(){let a="";characterCard="",favouritesList.innerHTML="";for(const r of favouriteCharacters)a=`<li>\n        <article class="js-character character" id="${r.char_id}">\n        <img src='${r.img}' alt="Foto de personaje" class="photo">\n        <h3 class="name">${r.name}</h3>\n        <p class="status">${r.status}</p>\n        </article>\n        </li>`,characterCard+=a,favouritesList.innerHTML=characterCard}const getApiData=()=>{allCharacters=[],fetch("https://breakingbadapi.com/api/characters").then(a=>a.json()).then(a=>{allCharacters.push(...a),renderAllCharacters()})},searchCharacter=a=>{a.preventDefault(),textInput=inputSearch.value;let r=allCharacters.filter(a=>a.name.includes(textInput));allCharacters=r,renderAllCharacters()};function handleClickCard(a){a.currentTarget.classList.toggle("selected");const r=allCharacters.find(r=>r.char_id===parseInt(a.currentTarget.id)),e=favouriteCharacters.findIndex(r=>r.char_id===parseInt(a.currentTarget.id));-1===e?favouriteCharacters.push(r):favouriteCharacters.splice(e,1),renderFavouritesCharacters()}function addCharactersListeners(){const a=document.querySelectorAll(".js-character");for(const r of a)r.addEventListener("click",handleClickCard)}btnSearch.addEventListener("click",searchCharacter),allCharacters=[],fetch("https://breakingbadapi.com/api/characters").then(a=>a.json()).then(a=>{allCharacters.push(...a),renderAllCharacters()}),handleClickCard();